#!/bin/bash

path=$1
output=""

while true; do
	stat=$(stat --printf '%A\v%U(%u)\v%G(%g)\v%N' "$path")
	output="${output}\n${stat}"
	parent=$(dirname "$path")
	if [[ "$parent" == "$path" ]]; then
		break
	fi
	path="$parent"
done

echo -e "$output" | column -t -s $'\v'
